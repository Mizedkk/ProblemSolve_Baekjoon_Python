# pandas

## ğŸ“– pandas ë€?

pandas ëŠ” numpyë¥¼ í¬í•¨í•œ ì—¬ëŸ¬ ë°ì´í„°ë“¤ì„ ì‰½ê³  ë¹ ë¥´ê²Œ ê°€ì ¸ì˜¨ë‹¤ëŠ” ì ì—ì„œ ì¢‹ì€ í”„ë ˆì„ì›Œí¬ë¼ê³  í•  ìˆ˜ ìˆë‹¤.

pandas ì—ì„œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì •ì˜ë˜ëŠ” ìë£Œêµ¬ì¡°, Seriesì™€ DataFrame ì„ ì‚¬ìš©í•œë‹¤.

<br>


##  pandasì˜ ê¸°ë³¸ì‚¬í•­
```
# row(í–‰) / column(ì—´)
ì¼ë°˜ì ìœ¼ë¡œ ë°ì´í„°í‘œë¥¼ ë³´ë©´ rowì™€ columnìœ¼ë¡œ ë‚˜ëˆ„ì–´ì ¸ìˆë‹¤. columnì€ ë°ì´í„°ì˜ íŠ¹ì§•ì„ ë‹´ê³  ìˆìœ¼ë©°, rowëŠ” ê° ì‚¬ëŒì„ ì˜ë¯¸í•œë‹¤.


```

<br>



## pandas ì˜ì‚¬ìš©ë°©ë²•
```
import pandas as pd

dt = ([["ì •í•´ì›", 50, 66], ["í™ì¤€ê¸°", 20, 36], ["ê¹€ê¸°ë ¬", 10, 18]])
my_df = pd.DataFrame(dt, columns =['name', 'english', 'age'], index = ['a', 'b', 'c', 'd'])

my_df 
# í–‰ì—ëŠ” name, english, age ì—´ì—ëŠ” a, b, c, dë¡œ ì •ë¦¬ëœ í‘œê°€ ë‚˜ì˜¨ë‹¤.
```
ì¼ë°˜ì ìœ¼ë¡œ pd.DataFrame()ì•ˆì— 2ì°¨ì› ë°°ì—´ë§Œ ì§‘ì–´ ë„£ê²Œ ë˜ë©´ì€ í–‰ê³¼ ì—´ì—ëŠ” ì•„ë¬´ê²ƒë„ ì—†ì´ indexë§Œ ëœ¨ê¸° ë•Œë¬¸ì— columnê³¼ index ë¥¼ ì´ìš©í•˜ì—¬ í–‰ê³¼ ì—´ì„ ì§€ì •í•˜ì—¬ ì±„ì›Œ ë„£ì„ ìˆ˜ ìˆë‹¤.


<br>



### DataFrame ë§Œë“¤ê¸° 
```
import numpy as np
import pandas as pd

two_dimensional_list = [['dongwook', 50, 86], ['sineui', 89, 31], ['ikjoong', 68, 91], ['yoonsoo', 88, 75]]
two_dimensional_array = np.array(two_dimensional_list)
list_of_series = [
    pd.Series(['dongwook', 50, 86]), 
    pd.Series(['sineui', 89, 31]), 
    pd.Series(['ikjoong', 68, 91]), 
    pd.Series(['yoonsoo', 88, 75])
]

# ì•„ë˜ ì…‹ì€ ëª¨ë‘ ë™ì¼í•©ë‹ˆë‹¤
df1 = pd.DataFrame(two_dimensional_list)
df2 = pd.DataFrame(two_dimensional_array)
df3 = pd.DataFrame(list_of_series)

print(df1)
```


<br>

### dictë¥¼ ì´ìš©í•œ DataFrame ë§Œë“¤ê¸°
```
import numpy as np
import pandas as pd

names = ['dongwook', 'sineui', 'ikjoong', 'yoonsoo']
english_scores = [50, 89, 68, 88]
math_scores = [86, 31, 91, 75]

dict1 = {
    'name': names, 
    'english_score': english_scores, 
    'math_score': math_scores
}

dict2 = {
    'name': np.array(names), 
    'english_score': np.array(english_scores), 
    'math_score': np.array(math_scores)
}

dict3 = {
    'name': pd.Series(names), 
    'english_score': pd.Series(english_scores), 
    'math_score': pd.Series(math_scores)
}


# ì•„ë˜ ì…‹ì€ ëª¨ë‘ ë™ì¼í•©ë‹ˆë‹¤
df1 = pd.DataFrame(dict1)
df2 = pd.DataFrame(dict2)
df3 = pd.DataFrame(dict3)

print(df1)
```

<br>

### pandasë¥¼ ì´ìš©í•˜ì—¬ csv ì—‘ì…€ íŒŒì¼ ì½ê¸°
```
import pandas as pd

iphone_df = pd.read_csv("ì•„ì´í°csvì˜ ìƒëŒ€ì£¼ì†Œ")
iphone_df
# ì•„ì´í° csvê°€ í™”ë©´ì— ë‚˜ì˜¨ë‹¤. 
```
- pandasëŠ” ìœ„ì— ìˆëŠ” ì²«ì¤„ì„ í—¤ë”ë¼ê³  íŒë‹¨í•˜ê³  column ê°’ì— ë„£ëŠ”ë° ì´ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ì„œ iphone_df = pd.read_case("ì•„ì´í°csvì˜ ìƒëŒ€ì£¼ì†Œ", header = None) ì„ í•˜ë©´ column ë¶€ë¶„ì´ ì¸ë±ìŠ¤ë¡œ ì°¬ë‹¤.

- index_col = n ì„ í†µí•´ì„œ n columnì— í•´ë‹¹í•˜ëŠ” ë¶€ë¶„ì´ ë§¨ ì™¼ìª½ì˜ ë©”ì¸ì´ ëœë‹¤.

<br>

### pandasì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê¸°
```
iphone.loc['iphone 7', 'ë©”ëª¨ë¦¬']
```
ë°ì´í„° í”„ë ˆì„ëª….loc['í–‰' 'ì—´'] ì„ í†µí•´ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤. ë§Œì•½ ì¸ë±ìŠ¤ì™€ í•´ë‹¹ columnì— ìˆëŠ” ëª¨ë“  ë‚´ìš©ì„ ê°€ì§€ê³  ì˜¤ê³  ì‹¶ë‹¤ë©´ 
```
iphone.loc[:, 'ë©”ëª¨ë¦¬']
ë˜ëŠ”
iphone['ë©”ëª¨ë¦¬']
```
ì²˜ëŸ¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤.
ì—¬ê¸°ì„œ 2ê°œ ì´ìƒì˜ ì—´ê°’ì„ ì¶”ì¶œí•˜ê³  ì‹¶ë‹¤ê³  í•˜ë©´

```
iphone[['ì œì¡°ì¼ì', 'ë©”ëª¨ë¦¬']]
í˜¹ì€
iphone.loc[:,['ì œì¡°ì¼ì', 'ë©”ëª¨ë¦¬']]
```
ë¥¼ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤. ì—¬ê¸°ì„œ ì¤‘ìš”í•´ì•¼í•  ì ì€ ì—¬ëŸ¬ ë°ì´í„°ë¥¼ ì¶”ì¶œí• ê²½ìš° ë¦¬ìŠ¤íŠ¸ ì•ˆì— ë¦¬ìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤ëŠ” ì ì„ ìŠì§€ ë§ì!

ë§Œì•½ì— ì–´ëŠ íŠ¹ì •í•œ ì–´ëŠ ë¶€ë¶„ì—ì„œì˜ ìŠ¬ë¼ì´ì‹±ì„ í•˜ê³  ì‹¶ë‹¤ë©´ df.loc(ì¶œë°œí–‰:ëí–‰ , ì¶œë°œì—´:ëì—´) ì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤. 

### pandas ì¡°ê±´ì„ ë„£ì–´ì„œ ì°¾ê¸°
```
iphone_df.loc[iphone_df['ë””ìŠ¤í”Œë ˆì´'] > 5]
```
ì²˜ëŸ¼ loc ì•ˆì— ì¡°ê±´ì„ ë„£ì–´ì„œ í–‰ê³¼ ì—´ì„ êµ¬í•  ìˆ˜ ìˆë‹¤.
ì—¬ê¸°ì„œ ì¡°ê¸ˆ ì§šê³  ë„˜ì–´ê°€ì•¼í•  ì ì´ìˆë‹¤ë©´ 
ì¡°ê±´ì„ ì¨ë‘ê³  ê·¸ ì¡°ê±´ì„ ë„£ì–´ì„œ ì²˜ë¦¬í•´ì•¼ ì˜¤ë¥˜ê°€ ì•ˆë‚œë‹¤ëŠ”ì ì´ë‹¤. ë°‘ì˜ ì˜ˆë¡œëŠ”
```
ì¡°ê±´1 = í•´ì›ì´ == ë°”ë³´
ì¡°ê±´2 = ê¹€ê¸°ë ¬ == ë¨¸í•¨
iphone_df.loc[ì¡°ê±´1 & ì¡°ê±´2, ë½‘ê³ ì í•˜ëŠ” ì—´]
```
ì²˜ëŸ¼ í•˜ëŠ” í˜•ì‹ì„ ê²Œì† ì—°ìŠµí•˜ì!

### pandas ì •ìˆ˜í˜•ìœ¼ë¡œ ë°ì´í„° ì°¾ê¸°
```
iphone.iloc[[1,3],[2,4]]
```
ilocì„ í†µí•´ì„œ ì¸ë±ìŠ¤ë¥¼ í†µí•´ì„œ ìŠ¬ë¼ì´ì‹±ì„ í†µí•µì„œ ì°¾ì„ ìˆ˜ ìˆë‹¤. 

### DataFrameì— ê°’ ì“°ê¸°
```
iphone_df.loc['iphone 8', 'ì¶œì‹œ ë²„ì „'] = 'ë„£ê³ ì‹¶ì€ ê°’'
```
loc ì— ë‚˜ì˜¤ëŠ” ê°’ì— ë”°ë¼ì„œ ì¸ìˆ˜ì— ë§ê²Œ ë„£ì–´ì£¼ë©´ ê·¸ ê°’ì— ë”°ë¼ ìˆ˜ì •ëœë‹¤. 

### DataFrameì— í–‰ê³¼ ì—´ì„ ì¶”ê°€ / ì‚­ì œ
```
iphone_df["ë„£ê³ ì í•˜ëŠ” ì—´"] = ê°’
iphone_df.loc["ë„£ê³ ìí•˜ëŠ” í–‰"] = ê°’
```
ë‹¨ ì—¬ê¸°ì„œ ë„£ê³ ì í•˜ëŠ” ì—´ê³¼ í–‰ì´ ê²¹ì¹˜ëŠ” ì´ë¦„ì€ ì—†ì–´ì•¼ í•œë‹¤. ì—¬ê¸°ì„œ ë§Œì•½ ë§Œë“¤ì–´ì§„ í–‰ê³¼ ì—´ì„ ì‚­ì œí•˜ê³  ì‹¶ë‹¤ë©´

```
iphone_df.drop("ì‚­ì œí•˜ê³ ì í•˜ëŠ” ì´ë¦„", axis='index' ë˜ëŠ” 'column', inplace=True ë˜ëŠ” False)
```
dropì„ í†µí•´ì„œ ì‚­ì œê°€ ê°€ëŠ¥í•˜ê³  ë’¤ì— ìˆëŠ” axisë¥¼ í†µí•´ í–‰ì„ ì‚­ì œ í•˜ê³  ì‹¶ì€ì§€ ì—´ì„ ì‚­ì œ í•˜ê³  ì‹¶ì€ì§€ ì§€ì •í•  ìˆ˜ ìˆìœ¼ë©°, inplaceì„ í†µí•´ í˜„ì¬ ë°ì´í„° í”„ë ˆì„ì„ ìˆ˜ì •í•˜ê³  ì‹¶ì€ì§€, ì•„ë‹ˆë©´ ìˆ˜ì •í•œ ê°’ì„ ë³€ìˆ˜ì— ë‹´ì„ì§€ë¥¼ ì •í•  ìˆ˜ ìˆë‹¤. 

### DataFrameì˜ í–‰ê³¼ ì—´ ì´ë¦„ ìˆ˜ì •
```
iphone_df.rename(column={'ë©”ëª¨ë¦¬' : 'Memory'}, inplace = True)
# ë¬¼ë¡  column ê°’ì„ indexë¡œ ë³€ê²½ ê°€ëŠ¥í•˜ë‹¤.
```

### DataFrame ì—ì„œì˜ ì—´ì„ ì¸ë±ìŠ¤ë¡œ ë°”ê¾¸ê¸°
```
liverpool.df.set_index("ì—´ì´ë¦„", inplace = True)
# í•˜ì§€ë§Œ ê¸°ì¡´ì˜ ì¸ë±ìŠ¤ê°€ ë‚ ì•„ê°€ê¸° ë•Œë¬¸ì— ì´ë¥¼ ë”°ë¡œ ì €ì¥í•´ë‘ì–´ì•¼ í•œë‹¤.
```
### DataFrame ì—ì„œ ì—´ì˜ ì¢…ë¥˜ê°€ ì–¼ë§ˆë‚˜ ë‹´ê²¼ëŠ”ì§€ í™•ì¸í•˜ê¸°
```
course_counts = df.loc[allowed, "course name"].value_counts()
# value_counts() ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. 
```

